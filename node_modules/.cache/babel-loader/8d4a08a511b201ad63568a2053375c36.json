{"ast":null,"code":"import { USER_LOGIN, USER_LOGOUT, USER_FETCH } from \"./UserAction\";\nimport { cacheData, clearCache } from \"../client/cookieManager\";\nexport const userInitState = {\n  token: null,\n  user: null,\n  authorized: false\n};\n\nconst userReducer = (state = userInitState, action) => {\n  var _action$payload, _action$payload2;\n\n  switch (action.type) {\n    case USER_LOGIN.SUCCESS:\n      cacheData(\"access_token\", action === null || action === void 0 ? void 0 : (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.token);\n      cacheData(\"user\", action === null || action === void 0 ? void 0 : (_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.user);\n      return { ...state,\n        token: action.payload.token,\n        user: action.payload.user\n      };\n\n    case USER_LOGOUT.SUCCESS:\n      {\n        clearCache(\"access_token\");\n        clearCache(\"user\");\n        return { ...state,\n          token: null,\n          authorized: false\n        };\n      }\n\n    case USER_FETCH.SUCCESS:\n      {\n        return { ...state,\n          user: action.payload.user\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport { userReducer };","map":{"version":3,"sources":["/home/ali/Desktop/react/ui-test/src/reducer/index.js"],"names":["USER_LOGIN","USER_LOGOUT","USER_FETCH","cacheData","clearCache","userInitState","token","user","authorized","userReducer","state","action","type","SUCCESS","payload"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,WAArB,EAAkCC,UAAlC,QAAoD,cAApD;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,yBAAtC;AAEA,OAAO,MAAMC,aAAa,GAAG;AAC3BC,EAAAA,KAAK,EAAE,IADoB;AAE3BC,EAAAA,IAAI,EAAE,IAFqB;AAG3BC,EAAAA,UAAU,EAAE;AAHe,CAAtB;;AAMP,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGL,aAAT,EAAwBM,MAAxB,KAAmC;AAAA;;AACrD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKZ,UAAU,CAACa,OAAhB;AACEV,MAAAA,SAAS,CAAC,cAAD,EAAiBQ,MAAjB,aAAiBA,MAAjB,0CAAiBA,MAAM,CAAEG,OAAzB,oDAAiB,gBAAiBR,KAAlC,CAAT;AACAH,MAAAA,SAAS,CAAC,MAAD,EAASQ,MAAT,aAASA,MAAT,2CAASA,MAAM,CAAEG,OAAjB,qDAAS,iBAAiBP,IAA1B,CAAT;AACA,aAAO,EACL,GAAGG,KADE;AAELJ,QAAAA,KAAK,EAAEK,MAAM,CAACG,OAAP,CAAeR,KAFjB;AAGLC,QAAAA,IAAI,EAAEI,MAAM,CAACG,OAAP,CAAeP;AAHhB,OAAP;;AAMF,SAAKN,WAAW,CAACY,OAAjB;AAA0B;AACxBT,QAAAA,UAAU,CAAC,cAAD,CAAV;AACAA,QAAAA,UAAU,CAAC,MAAD,CAAV;AACA,eAAO,EACL,GAAGM,KADE;AAELJ,UAAAA,KAAK,EAAE,IAFF;AAGLE,UAAAA,UAAU,EAAE;AAHP,SAAP;AAKD;;AACD,SAAKN,UAAU,CAACW,OAAhB;AAAyB;AACvB,eAAO,EACL,GAAGH,KADE;AAELH,UAAAA,IAAI,EAAEI,MAAM,CAACG,OAAP,CAAeP;AAFhB,SAAP;AAID;;AAED;AACE,aAAOG,KAAP;AA3BJ;AA6BD,CA9BD;;AAgCA,SAASD,WAAT","sourcesContent":["import { USER_LOGIN, USER_LOGOUT, USER_FETCH } from \"./UserAction\";\nimport { cacheData, clearCache } from \"../client/cookieManager\";\n\nexport const userInitState = {\n  token: null,\n  user: null,\n  authorized: false,\n};\n\nconst userReducer = (state = userInitState, action) => {\n  switch (action.type) {\n    case USER_LOGIN.SUCCESS:\n      cacheData(\"access_token\", action?.payload?.token);\n      cacheData(\"user\", action?.payload?.user);\n      return {\n        ...state,\n        token: action.payload.token,\n        user: action.payload.user,\n      };\n\n    case USER_LOGOUT.SUCCESS: {\n      clearCache(\"access_token\");\n      clearCache(\"user\");\n      return {\n        ...state,\n        token: null,\n        authorized: false,\n      };\n    }\n    case USER_FETCH.SUCCESS: {\n      return {\n        ...state,\n        user: action.payload.user,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport { userReducer };\n"]},"metadata":{},"sourceType":"module"}