{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.areCookiesEqual = exports.hasSameProperties = exports.createCookie = exports.isBrowser = void 0;\n/**\n * Tells whether we are in a browser or server.\n */\n\nfunction isBrowser() {\n  return typeof window !== 'undefined';\n}\n\nexports.isBrowser = isBrowser;\n/**\n * Create an instance of the Cookie interface\n */\n\nfunction createCookie(name, value, options) {\n  var sameSite = options.sameSite;\n\n  if (sameSite === true) {\n    sameSite = 'strict';\n  }\n\n  if (sameSite === undefined || sameSite === false) {\n    sameSite = 'lax';\n  }\n\n  var cookieToSet = __assign(__assign({}, options), {\n    sameSite: sameSite\n  });\n\n  delete cookieToSet.encode;\n  return __assign({\n    name: name,\n    value: value\n  }, cookieToSet);\n}\n\nexports.createCookie = createCookie;\n/**\n * Tells whether given objects have the same properties.\n */\n\nfunction hasSameProperties(a, b) {\n  var aProps = Object.getOwnPropertyNames(a);\n  var bProps = Object.getOwnPropertyNames(b);\n\n  if (aProps.length !== bProps.length) {\n    return false;\n  }\n\n  for (var i = 0; i < aProps.length; i++) {\n    var propName = aProps[i];\n\n    if (a[propName] !== b[propName]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexports.hasSameProperties = hasSameProperties;\n/**\n * Compare the cookie and return true if the cookies have equivalent\n * options and the cookies would be overwritten in the browser storage.\n *\n * @param a first Cookie for comparison\n * @param b second Cookie for comparison\n */\n\nfunction areCookiesEqual(a, b) {\n  var sameSiteSame = a.sameSite === b.sameSite;\n\n  if (typeof a.sameSite === 'string' && typeof b.sameSite === 'string') {\n    sameSiteSame = a.sameSite.toLowerCase() === b.sameSite.toLowerCase();\n  }\n\n  return hasSameProperties(__assign(__assign({}, a), {\n    sameSite: undefined\n  }), __assign(__assign({}, b), {\n    sameSite: undefined\n  })) && sameSiteSame;\n}\n\nexports.areCookiesEqual = areCookiesEqual;\n/* Functions */","map":{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAGA;;AAEG;;AACH,SAAgB,SAAhB,GAAyB;AACvB,SAAO,OAAO,MAAP,KAAkB,WAAzB;AACD;;AAFD,OAAA,CAAA,SAAA,GAAA,SAAA;AAMA;;AAEG;;AACH,SAAgB,YAAhB,CACE,IADF,EAEE,KAFF,EAGE,OAHF,EAGwC;AAEtC,MAAI,QAAQ,GAAG,OAAO,CAAC,QAAvB;;AACA,MAAI,QAAQ,KAAK,IAAjB,EAAuB;AACrB,IAAA,QAAQ,GAAG,QAAX;AACD;;AACD,MAAI,QAAQ,KAAK,SAAb,IAA0B,QAAQ,KAAK,KAA3C,EAAkD;AAChD,IAAA,QAAQ,GAAG,KAAX;AACD;;AACD,MAAM,WAAW,GAAA,QAAA,CAAA,QAAA,CAAA,EAAA,EAAQ,OAAR,CAAA,EAAe;AAAE,IAAA,QAAQ,EAAE;AAAZ,GAAf,CAAjB;;AACA,SAAO,WAAW,CAAC,MAAnB;AACA,SAAA,QAAA,CAAA;AACE,IAAA,IAAI,EAAE,IADR;AAEE,IAAA,KAAK,EAAE;AAFT,GAAA,EAGK,WAHL,CAAA;AAKD;;AAnBD,OAAA,CAAA,YAAA,GAAA,YAAA;AAqBA;;AAEG;;AACH,SAAgB,iBAAhB,CAAkC,CAAlC,EAA2C,CAA3C,EAAkD;AAChD,MAAM,MAAM,GAAG,MAAM,CAAC,mBAAP,CAA2B,CAA3B,CAAf;AACA,MAAM,MAAM,GAAG,MAAM,CAAC,mBAAP,CAA2B,CAA3B,CAAf;;AAEA,MAAI,MAAM,CAAC,MAAP,KAAkB,MAAM,CAAC,MAA7B,EAAqC;AACnC,WAAO,KAAP;AACD;;AAED,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,MAAM,CAAC,MAA3B,EAAmC,CAAC,EAApC,EAAwC;AACtC,QAAM,QAAQ,GAAG,MAAM,CAAC,CAAD,CAAvB;;AAEA,QAAI,CAAC,CAAC,QAAD,CAAD,KAAgB,CAAC,CAAC,QAAD,CAArB,EAAiC;AAC/B,aAAO,KAAP;AACD;AACF;;AAED,SAAO,IAAP;AACD;;AAjBD,OAAA,CAAA,iBAAA,GAAA,iBAAA;AAmBA;;;;;;AAMG;;AACH,SAAgB,eAAhB,CAAgC,CAAhC,EAA2C,CAA3C,EAAoD;AAClD,MAAI,YAAY,GAAG,CAAC,CAAC,QAAF,KAAe,CAAC,CAAC,QAApC;;AACA,MAAI,OAAO,CAAC,CAAC,QAAT,KAAsB,QAAtB,IAAkC,OAAO,CAAC,CAAC,QAAT,KAAsB,QAA5D,EAAsE;AACpE,IAAA,YAAY,GAAG,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,CAAC,CAAC,QAAF,CAAW,WAAX,EAA5C;AACD;;AAED,SACE,iBAAiB,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA,EACV,CADU,CAAA,EACT;AAAE,IAAA,QAAQ,EAAE;AAAZ,GADS,CAAA,EACY,QAAA,CAAA,QAAA,CAAA,EAAA,EACtB,CADsB,CAAA,EACrB;AAAE,IAAA,QAAQ,EAAE;AAAZ,GADqB,CADZ,CAAjB,IAGK,YAJP;AAMD;;AAZD,OAAA,CAAA,eAAA,GAAA,eAAA;AAcA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.areCookiesEqual = exports.hasSameProperties = exports.createCookie = exports.isBrowser = void 0;\n/**\n * Tells whether we are in a browser or server.\n */\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\n/**\n * Create an instance of the Cookie interface\n */\nfunction createCookie(name, value, options) {\n    var sameSite = options.sameSite;\n    if (sameSite === true) {\n        sameSite = 'strict';\n    }\n    if (sameSite === undefined || sameSite === false) {\n        sameSite = 'lax';\n    }\n    var cookieToSet = __assign(__assign({}, options), { sameSite: sameSite });\n    delete cookieToSet.encode;\n    return __assign({ name: name, value: value }, cookieToSet);\n}\nexports.createCookie = createCookie;\n/**\n * Tells whether given objects have the same properties.\n */\nfunction hasSameProperties(a, b) {\n    var aProps = Object.getOwnPropertyNames(a);\n    var bProps = Object.getOwnPropertyNames(b);\n    if (aProps.length !== bProps.length) {\n        return false;\n    }\n    for (var i = 0; i < aProps.length; i++) {\n        var propName = aProps[i];\n        if (a[propName] !== b[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.hasSameProperties = hasSameProperties;\n/**\n * Compare the cookie and return true if the cookies have equivalent\n * options and the cookies would be overwritten in the browser storage.\n *\n * @param a first Cookie for comparison\n * @param b second Cookie for comparison\n */\nfunction areCookiesEqual(a, b) {\n    var sameSiteSame = a.sameSite === b.sameSite;\n    if (typeof a.sameSite === 'string' && typeof b.sameSite === 'string') {\n        sameSiteSame = a.sameSite.toLowerCase() === b.sameSite.toLowerCase();\n    }\n    return (hasSameProperties(__assign(__assign({}, a), { sameSite: undefined }), __assign(__assign({}, b), { sameSite: undefined })) && sameSiteSame);\n}\nexports.areCookiesEqual = areCookiesEqual;\n/* Functions */\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}